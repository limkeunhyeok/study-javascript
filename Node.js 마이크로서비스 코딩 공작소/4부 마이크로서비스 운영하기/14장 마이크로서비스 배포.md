# 4부 마이크로서비스 운영하기

## 14장 마이크로서비스 배포

### 1. 마이크로서비스와 배포

<p>
    마이크로서비스 아키텍처는 모놀리식 아키텍처보다 관리해야 하는 프로세스가 많고 마이크로서비스별로 개발팀이 다를 수 있기 때문에 모놀리식 아키텍처보다 상대적으로 배포와 운영이 어렵다.
</p>

![3](https://user-images.githubusercontent.com/38815618/98559640-34e44980-22ea-11eb-9731-cda83d2a8f38.PNG)

### 2. 배포 자동화

- 배포 전략
  - 롤백(rollback): 배포에 문제가 발생하면 이전의 안정적인 배포 버전으로 되돌리는 개념
  - 블루-그린 배포(blue-green deployment): 동일한 환경을 2개 구축하고, 한쪽이 라이브 서비스를 제공하는 동안 다른 한쪽에서는 배포를 진행해 스위칭으로 라이브 서비스와 배포 환경을 바꾸는 방법
  - 지속적인 배포(continuous deployment): 언제든지 소프트웨어를 빌드해 서비스에 배포할 수 있도록 하는 소프트웨어 개발 방법

### 3. 가상화

<p>
    마이크로서비스는 짧고 빠른 개발 주기를 목표로 한다. 하지만 새로운 마이크로서비스가 생길 때마다 새로운 하드웨어를 구축하는 것은 매우 비효율적이다. 이러한 마이크로서비스를 운영할 때 대표적으로 활용하는 것이 바로 도커같은 경량화된 가상화 기술이다.
</p>

<p>
    도커는 경량화된 가상화를 제공한다. 기존 가상화 방식은 주로 운영체제를 가상화하는 방식으로, 호스트 운영체제 위에 게스트 운영체제 전체를 가상화하는 방식이라 동작이 무겁고 느리다. 반면 도커는 프로세스를 격리하는 방식으로 불필요한 게스트 운영체제를 개선해 컨테이너 여러 개가 독립적으로 실행하게 된다.
</p>

![4](https://user-images.githubusercontent.com/38815618/98559646-36157680-22ea-11eb-8fd8-0bb6addcd4fd.PNG)

<p>
    도커의 실행 방식은 마이크로서비스를 서비스하기 적합한 환경을 제공한다. 또한, 도커 컨테이너는 기본적으로 모든 유형의 리눅스 소프트웨어를 실행한다.
</p>
