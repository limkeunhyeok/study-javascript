# Part 1 타입과 문법

## Chapter 3 네이티브

> 네이티브란 특정 환경에 종속되지 않은, ECMAScript 명세의 내장 객체를 말한다. 가장 많이 쓰이는 네이티브는 다음과 같다.

- String()
- Number()
- Boolean()
- Array()
- Object()
- Function()
- RegExp()
- Date()
- Error()
- Symbol()
  - ES6에서 추가됨

```javascript
var a = new String('abc');

console.log(typeof a); // object
console.log(a instanceof String); // true
console.log(Object.prototype.toString.call(a)); // [object String]
```

<p>
  네이티브는 생성자처럼 사용할 수 있지만 실제로 생성되는 결과물은 예상과 다를 수 있다. String 생성자의 결과는 원시 값 'abc'를 감싼 객체 래퍼다. 위 코드에서 보다시피 이 객체의 타입은 자신이 감싼 원시 값의 타입이 아니라 object의 하위 타입에 가깝다.
</p>

### 1. 내부 [[Class]]

<p>
  typeof가 object인 값에는 [[Class]]라는 내부 프로퍼티가 추가로 붙는다. 이 프로퍼티는 Object.prototype.toString()라는 메서드에 값을 넣어 호출함으로써 존재를 엿볼 수 있다.
</p>

```javascript
Object.prototype.toString.call([1, 2, 3]); // [object Array]
Object.prototype.toString.call(/regex-literal/i); // [object RegExp]
```

<p>
  대부분 내부 [[Class]]는 해당 값과 관련된 내장 네이티브 생성자를 가리키지만, 그렇지 않을 때도 있다. null과 undefined의 경우가 그렇다. 그 밖의 문자열, 숫자, 불리언 같은 단순 원시 값은 해당 객체 래퍼로 자동 박싱(Boxing)된다.
</p>

### 2. 래퍼 박싱하기

<p>
  원시 값엔 프로퍼티나 메서드가 없어, 이를 사용하려면 원시 값을 객체 래퍼로 감싸줘야 한다. 하지만 자바스크립트는 원시 값을 알아서 박싱(래핑)하므로 여러 프로퍼티와 메소드에 접근할 수 있다.
</p>

<p>
  개발자가 직접 객체 형태로 선 최적화(Pre-Optimize)하면 프로그램이 느려질 수 있다. 직접 객체 형태로 써야 할 이유는 거의 없다. 필요시 엔진이 알아서 암시적으로 박싱하게 하는 것이 낫다.
</p>

### 3. 언박싱

<p>
  객체 래퍼의 뭔시 값은 valueOf() 메서드로 추출한다.
</p>

```javascript
var a = new String('abc');
var b = new Number(42);
var c = new Boolean(true);

console.log(a.valueOf()); // 'abc'
console.log(b.valueOf()); // 42
console.log(c.valueOf()); // true
```

<p>
  아래의 예시에서 암시적인 언박싱이 일어난다.
</p>

```javascript
var a = new String('abc');
var b = a + '';

console.log(typeof a); // object
console.log(typeof b); // string
```
